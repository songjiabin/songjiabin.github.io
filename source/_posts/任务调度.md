---
title: 任务调度(定时)
date: 
tags: 
- linux
copyright: true
categories: linux
toc: true

 
 
typora-copy-images-to: ..\images
typora-root-url: ..
---

![](/images/pets-4415649_960_720.jpg)

<!-- more -->



>crond 任务调度
> 体统在某个时间执行特定的命令或者程序

 - -e 编辑crontab 定时任务
 - -l 查询crontab 查询crontab任务
 - -r 删除当前用户所有的crontab任务
 - service  crond restart 重启调度任务


##### 创建
```Java
 crontab -e 
 打开后->编辑->：
 */1 * * * * ls -l /etc >> /tmp/to.txt    
 意思是：每一分钟都会执行 ls -l /etc 并将结果追加到to.txt里面
 
 crontab -l 进行查询当前的任务
 crontab -r 删除当前的所有任务 
```



项目 | 含义 | 范围
---|---|---
第一个*| 一个小时当中第几分钟|0~59
第二个* |一天当中的第几个小时|0~23
第三个*|一个月中第几天|1~31
第四个*|一年中第几月|1~12
第五个*|一周中星期几|0~7（0和7都代表周日）


- 特殊字符

特殊字符|含义|
--|--|
*|代表任何时间，比如第一个"*"代表一小时每分钟都执行一次的意思|
，|代表不连续的意思。比如：“0   8，12，16  * * * ” ，就代表每天的8点0分， 12点0分，16点0分，分别执行一次
- |代表连续的时间范围。比如“0 5 * * 1-6命令”，代表周一到周六的凌晨5点0分执行命令
*/n |*/n 代表每隔多久执行一次。比如：“*/10 * * * *”代码每隔10分钟执行一次



- 实例

```Java
45 22 * * *     在22：45执行
0 17 * * 1      每周一的17：00执行
0 5 1，15 * *   在每个月中的1号，15号的5点0分执行
40 4 * * 1-5    在每周一到周五的4点40分执行 
*/10 4 * * *    在每天4点每隔10分钟执行一次
0 0 1，15 * 1   在每个月1号，15号 ，每周一的的0点，0分都会执行。

```



- 任务调度的几个实例
- [x] 实例1：每隔一分钟，就将当期的日期，追加到/tmp/myDate文件中去。
```Java
第一种：就使用crontab -e 
*/1 * * * * date >> /tmp/myDate 
第二种：使用shell脚本
1、切换到/home 
2、vim myTask1.sh 
3、在myTask1.sh中写上执行的命令。
4、需要给这个.sh脚本一个执行权限
5、打开crontab -e 编辑
6、添加刚才.sh的路
7、*/1 * * * * /home/myTask1.sh 

```
- [x] 每隔一分钟，将当前的日历日期都追加到/home/mycal文件中
```Java
将上面第二步骤中 就该.sh文件即可。
添加一行命令：
cal >> /home/tmp/myDate 
```





